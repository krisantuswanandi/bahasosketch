webpackJsonp([1],{189:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(6),c=o(i),f=n(24),s=o(f);n(85);var p=n(190),d=o(p),m=n(192),g=(o(m),n(193)),h=o(g),y=n(197),b=o(y),v=n(200),_=o(v),w=n(87),O=o(w),E=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isLoggedIn:!1,isLoginOpen:!1},e}return u(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;s.default.auth().onAuthStateChanged(function(t){t?e.setState({isLoggedIn:!0}):e.setState({isLoggedIn:!1})})}},{key:"openLogin",value:function(){this.setState({isLoginOpen:!0})}},{key:"closeLogin",value:function(){this.setState({isLoginOpen:!1})}},{key:"render",value:function(){return c.default.createElement("div",{className:O.default.container},c.default.createElement(d.default,null),c.default.createElement(_.default,null),c.default.createElement(h.default,{canUpload:this.state.isLoggedIn,onClick:this.openLogin.bind(this)}),this.state.isLoginOpen&&c.default.createElement(b.default,{onClose:this.closeLogin.bind(this)}))}}]),t}(c.default.Component);t.default=E},190:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=o(a),u=n(191),l=o(u),i=n(87),c=o(i);t.default=function(){return r.default.createElement("header",null,r.default.createElement("img",{className:c.default.headerLogo,src:l.default,alt:"Bahaso Sketch Logo"}))}},191:function(e,t,n){e.exports=n.p+"c27430a9efe6beadd7fd113465131a0f.png"},192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){return a.default.createElement("footer",null,"Bahaso Sketch © 2017")}},193:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(6),c=o(i),f=n(24),s=o(f);n(88),n(91);var p=n(194),d=o(p),m=n(195),g=n(93),h=o(g),y=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={file:null,imgPreview:"",uploading:!1},n}return u(t,e),l(t,[{key:"confirmUpload",value:function(){var e=this;if(this.state.file){var t=this.state.file,n=t.name.slice(1+(t.name.lastIndexOf(".")-1>>>0)),o=(0,m.getStringDate)()+(0,m.getStringTime)()+n;this.setState({uploading:!0}),s.default.storage().ref("inktober/"+o).put(t,{cacheControl:"public,max-age=31536000"}).then(function(e){return e.ref.getDownloadURL()}).then(function(e){return s.default.database().ref("/inktober2018/"+(0,m.getStringDay)()).push({name:s.default.auth().currentUser.email,url:e,path:o})}).then(function(){window.location.replace("/")}).catch(function(t){console.log(t),alert("Connection error!"),e.clearUpload()})}}},{key:"clearUpload",value:function(){var e=this.state.imgPreview;URL.revokeObjectURL(e),this.refs.file.value="",this.setState({imgPreview:"",file:null,uploading:!1})}},{key:"handleFiles",value:function(e){if(e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);this.setState({imgPreview:t,file:e.target.files[0]})}}},{key:"render",value:function(){return this.props.canUpload?c.default.createElement("div",null,c.default.createElement("label",{className:h.default.uploadFileButton},"+",c.default.createElement("input",{ref:"file",type:"file",className:h.default.uploadFileInput,onChange:this.handleFiles.bind(this)})),this.state.imgPreview&&c.default.createElement(d.default,{image:this.state.imgPreview,onConfirm:this.confirmUpload.bind(this),onCancel:this.clearUpload.bind(this)})):c.default.createElement("div",null,c.default.createElement("button",{className:h.default.uploadFileButton,onClick:this.props.onClick},"+"))}}]),t}(c.default.Component);t.default=y},194:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(6),c=o(i),f=n(93),s=o(f),p=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){return c.default.createElement("div",{className:s.default.previewContainer},c.default.createElement("div",{className:s.default.previewImage,style:{backgroundImage:"url("+this.props.image+")"}}),c.default.createElement("div",{className:s.default.previewButton},c.default.createElement("button",{className:s.default.confirmButton,onClick:this.props.onConfirm},"Upload"),c.default.createElement("div",{className:s.default.cancel,onClick:this.props.onCancel},"Cancel")))}}]),t}(c.default.Component);t.default=p},195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeDay=t.getThemeIDFrom=t.getThemeID=t.getDateDiffInDay=t.getDateFromString2=t.getDateFromString=t.getStringTime=t.getStringDate=t.getStringDay=void 0;var o=n(196),a=(t.getStringDay=function(e){return("0"+(e||new Date).getDate()).slice(-2)},t.getStringDate=function(e){var t=e||new Date;return t.getFullYear()+""+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2)}),r=(t.getStringTime=function(e){var t=e||new Date;return("0"+t.getHours()).slice(-2)+""+("0"+t.getMinutes()).slice(-2)+("0"+t.getSeconds()).slice(-2)},t.getDateFromString=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(4,2)),o=parseInt(e.substr(6,2));return new Date(t,n,o)}),u=t.getDateFromString2=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(4,2)),o=parseInt(e.substr(6,2));return new Date(t,n-1,o)},l=t.getDateDiffInDay=function(e,t){var n=r(e);return(r(t)-n)/864e5+1};t.getThemeID=function(){return a(new Date)},t.getThemeIDFrom=function(e,t){var n=u(e);return n.setDate(n.getDate()-t),a(n)},t.getThemeDay=function(e){return l(o.START_DATE,e)}},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_THEME="RANDOM",t.DEFAULT_THEME_ID="20170000",t.START_DATE="20170614"},197:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(6),c=o(i),f=n(24),s=o(f);n(85);var p=n(198),d=o(p),m=n(199),g=o(m),h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:g.default.container},c.default.createElement("div",{className:g.default.loginContainer},c.default.createElement("div",null,c.default.createElement("img",{className:g.default.logo,src:d.default,alt:"Bahaso X Inktober"})),c.default.createElement("div",null,c.default.createElement("button",{className:g.default.loginButton,onClick:function(){var t=new s.default.auth.GoogleAuthProvider;s.default.auth().signInWithPopup(t).then(function(){e.props.onClose()}).catch(function(t){e.setState({error:t.message})})}},"Google Sign In")),c.default.createElement("div",{className:g.default.cancel,onClick:this.props.onClose},"Cancel")))}}]),t}(c.default.Component);t.default=h},198:function(e,t,n){e.exports=n.p+"d5cf601a2fc77400ebde41fe1af89e50.png"},199:function(e,t){e.exports={container:"_1h6M7","login-container":"v7u3X",loginContainer:"v7u3X",logo:"_3tt5B",cancel:"_9sZDd"}},200:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(6),f=o(c),s=n(24),p=o(s);n(88),n(91);var d=n(201),m=o(d),g=n(202),h=o(g),y=n(203),b=o(y),v=n(204),_=o(v),w=n(34),O=o(w),E=function(e){function t(e){r(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={images:[{id:"intro",type:"credit",link:"https://www.instagram.com/p/BnT1LhRgard/",url:"https://scontent-sit4-1.cdninstagram.com/vp/4c84bbb0f608fc3eead1606ad2703750/5C56766E/t51.2885-15/e35/40432064_560631531021277_1406291162821026460_n.jpg"},{id:"themes",type:"credit",link:"https://www.instagram.com/p/BnL2dxfg8Uq/",url:"https://scontent-sit4-1.cdninstagram.com/vp/59f6ee7e0f9cbb3fc8606ac72b4e91c5/5C4330DC/t51.2885-15/e35/39815925_407430529786848_2695135490553675776_n.jpg"}],isPopupOpen:!1,popupImage:"",popupTitle:""},n.openPopup=n.openPopup.bind(n),n.closePopup=n.closePopup.bind(n),n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;p.default.database().ref("/inktober2018").once("value").then(function(t){var n=[],o=t.val();for(var r in o)!function(e){var t=o[e];for(var a in t)!function(o){var a=t[o],r=a.name,u=a.url,l=a.thumb,i=a.popup,c=a.path;n.push({id:o,type:"photo",name:r,thumb:l,url:i||u}),p.default.auth().currentUser&&(l||p.default.storage().ref("inktoberthumb/"+c).getDownloadURL().then(function(t){p.default.database().ref("/inktober2018/"+e+"/"+o+"/thumb").set(t.toString())}).catch(function(){console.log("no thumbnail for ",c)}),i||p.default.storage().ref("inktober500/"+c).getDownloadURL().then(function(t){p.default.database().ref("/inktober2018/"+e+"/"+o+"/popup").set(t.toString())}).catch(function(){console.log("no compressed image for ",c)}))}(a);n.push({id:e,type:"title",text:e})}(r);e.setState({images:[].concat(a(n.reverse()),a(e.state.images))})}).catch(function(e){console.log(e.message)})}},{key:"openPopup",value:function(e,t){this.setState({isPopupOpen:!0,popupTitle:e,popupImage:t})}},{key:"closePopup",value:function(){this.setState({isPopupOpen:!1,popupImage:"",popupTitle:""})}},{key:"renderImages",value:function(){var e=this;return this.state.images.map(function(t){switch(t.type){case"photo":return f.default.createElement(m.default,{key:t.id,name:t.name,thumb:t.thumb||t.url,url:t.url,onClick:e.openPopup});case"title":return f.default.createElement(h.default,{key:t.id,text:t.text});default:return f.default.createElement(b.default,{key:t.id,url:t.url,link:t.link})}})}},{key:"render",value:function(){return f.default.createElement("div",{className:O.default.galleryContainer},this.state.isPopupOpen&&f.default.createElement(_.default,{title:this.state.popupTitle,image:this.state.popupImage,close:this.closePopup}),f.default.createElement("div",{className:O.default.gallery},f.default.createElement("div",{className:O.default.galleryItems},this.renderImages())))}}]),t}(f.default.Component);t.default=E},201:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=o(a),u=n(34),l=o(u);t.default=function(e){var t=e.name,n=e.thumb,o=e.url,a=e.onClick;return r.default.createElement("div",{className:l.default.galleryItem},r.default.createElement("div",{className:l.default.galleryImage,style:{backgroundImage:"url("+n+")"},onClick:function(){a(t,o)}}))}},202:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=o(a),u=n(34),l=o(u);t.default=function(e){var t=e.text;return r.default.createElement("div",{className:l.default.galleryItem},r.default.createElement("div",{className:l.default.galleryTitle},r.default.createElement("span",{className:l.default.text},t),r.default.createElement("span",null,"OCTOBER")))}},203:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=o(a),u=n(34),l=o(u);t.default=function(e){var t=e.url,n=e.link;return r.default.createElement("div",{className:l.default.galleryItem},r.default.createElement("a",{target:"_blank",href:n,className:l.default.galleryImage,style:{backgroundImage:"url("+t+")"}}))}},204:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(6),c=o(i),f=n(205),s=o(f),p=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:""+s.default.popup,onClick:function(){e.props.close()}},c.default.createElement("div",{className:s.default.popupDialog,onClick:function(e){e.stopPropagation()}},c.default.createElement("div",{className:s.default.popupHeader},c.default.createElement("span",{className:s.default.popupTitle},this.props.title," "),c.default.createElement("span",{className:s.default.popupClose,onClick:function(){e.props.close()}},"X")),c.default.createElement("div",{className:s.default.popupBody},""===this.props.image?c.default.createElement("div",{className:s.default.loading},"Loading..."):c.default.createElement("img",{src:this.props.image,alt:"Image",className:s.default.popupImage}))))}}]),t}(c.default.Component);t.default=p},205:function(e,t){e.exports={popup:"_3cv7R","popup-dialog":"_28_fg",popupDialog:"_28_fg","popup-header":"_1AiY-",popupHeader:"_1AiY-","popup-title":"_6RU06",popupTitle:"_6RU06","popup-close":"_bzqj",popupClose:"_bzqj","popup-body":"_2v_NO",popupBody:"_2v_NO","popup-image":"_2xc6O",popupImage:"_2xc6O",loading:"lGdpz"}},24:function(e,t,n){"use strict";n(84);var o=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(12));e.exports=o},34:function(e,t){e.exports={"gallery-container":"_3nhKL",galleryContainer:"_3nhKL",gallery:"_1NpJZ","gallery-items":"HzkG5",galleryItems:"HzkG5","gallery-item":"_2DTJ2",galleryItem:"_2DTJ2","gallery-image":"_3oIi7",galleryImage:"_3oIi7","gallery-title":"_1OSuq",galleryTitle:"_1OSuq",text:"_2GGJ9"}},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(86)},87:function(e,t){e.exports={"header-logo":"_1ywBZ",headerLogo:"_1ywBZ",container:"e085o"}},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(89);n.n(o)},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(92)},93:function(e,t){e.exports={"upload-file-input":"_14hNH",uploadFileInput:"_14hNH","upload-file-button":"_3ja9n",uploadFileButton:"_3ja9n","preview-container":"lzXNa",previewContainer:"lzXNa","preview-image":"_2v9hy",previewImage:"_2v9hy","preview-button":"_3SrQj",previewButton:"_3SrQj","confirm-button":"ou88T",confirmButton:"ou88T",cancel:"_13x6S"}},94:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(6),r=o(a),u=n(58),l=o(u),i=n(24),c=o(i),f=n(189),s=o(f),p={apiKey:"AIzaSyBd-we3DS2sZBhExI-VdJrNyKypR_qFAEI",authDomain:"bahaso-sketch.firebaseapp.com",databaseURL:"https://bahaso-sketch.firebaseio.com",projectId:"bahaso-sketch",storageBucket:"bahaso-sketch.appspot.com",messagingSenderId:"267090960672"};c.default.initializeApp(p),l.default.render(r.default.createElement(s.default,null),document.getElementById("container"))}},[94]);