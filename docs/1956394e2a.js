webpackJsonp([1],{185:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(5),c=a(i),f=n(18),s=a(f);n(51);var p=n(187),d=a(p),m=n(189),g=(a(m),n(190)),h=a(g),y=n(198),b=a(y),v=n(201),_=a(v),w=n(88),O=a(w),E=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isLoggedIn:!1,isLoginOpen:!1},e}return u(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;s.default.auth().onAuthStateChanged(function(t){t?e.setState({isLoggedIn:!0}):e.setState({isLoggedIn:!1})})}},{key:"openLogin",value:function(){this.setState({isLoginOpen:!0})}},{key:"closeLogin",value:function(){this.setState({isLoginOpen:!1})}},{key:"render",value:function(){return c.default.createElement("div",{className:O.default.container},c.default.createElement(d.default,null),c.default.createElement(_.default,null),c.default.createElement(h.default,{canUpload:this.state.isLoggedIn,onClick:this.openLogin.bind(this)}),this.state.isLoginOpen&&c.default.createElement(b.default,{onClose:this.closeLogin.bind(this)}))}}]),t}(c.default.Component);t.default=E},187:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=a(o),u=n(188),l=a(u),i=n(88),c=a(i);t.default=function(){return r.default.createElement("header",null,r.default.createElement("img",{className:c.default.headerLogo,src:l.default,alt:"Bahaso Sketch Logo"}))}},188:function(e,t,n){e.exports=n.p+"c27430a9efe6beadd7fd113465131a0f.png"},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(){return o.default.createElement("footer",null,"Bahaso Sketch © 2017")}},190:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(5),c=a(i),f=n(18),s=a(f);n(52),n(53);var p=n(194),d=a(p),m=n(195),g=a(m),h=n(196),y=n(54),b=a(y),v=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={file:null,imgPreview:"",uploading:!1},n}return u(t,e),l(t,[{key:"confirmUpload",value:function(){var e=this;if(this.state.file){var t=this.state.file,n=t.name.slice(1+(t.name.lastIndexOf(".")-1>>>0)),a=(0,h.getStringDate)()+(0,h.getStringTime)()+n;this.setState({uploading:!0}),s.default.storage().ref("inktober2018/"+a).put(t,{cacheControl:"public,max-age=31536000"}).then(function(e){return e.ref.getDownloadURL()}).then(function(e){return s.default.database().ref("/inktober2018/"+(0,h.getStringDay)()).push({name:s.default.auth().currentUser.email,url:e,path:a})}).then(function(){window.location.replace("/")}).catch(function(t){console.log(t),alert("Connection error!"),e.clearUpload()})}}},{key:"clearUpload",value:function(){var e=this.state.imgPreview;URL.revokeObjectURL(e),this.refs.file.value="",this.setState({imgPreview:"",file:null,uploading:!1})}},{key:"handleFiles",value:function(e){if(e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);this.setState({imgPreview:t,file:e.target.files[0]})}}},{key:"render",value:function(){return this.props.canUpload?c.default.createElement("div",null,c.default.createElement("label",{className:b.default.uploadFileButton},"+",c.default.createElement("input",{ref:"file",type:"file",className:b.default.uploadFileInput,onChange:this.handleFiles.bind(this)})),this.state.imgPreview&&c.default.createElement(d.default,{image:this.state.imgPreview,onConfirm:this.confirmUpload.bind(this),onCancel:this.clearUpload.bind(this)}),this.state.uploading&&c.default.createElement(g.default,null)):c.default.createElement("div",null,c.default.createElement("button",{className:b.default.uploadFileButton,onClick:this.props.onClick},"+"))}}]),t}(c.default.Component);t.default=v},194:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(5),c=a(i),f=n(54),s=a(f),p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){return c.default.createElement("div",{className:s.default.previewContainer},c.default.createElement("div",{className:s.default.previewImage,style:{backgroundImage:"url("+this.props.image+")"}}),c.default.createElement("div",{className:s.default.previewButton},c.default.createElement("button",{className:s.default.confirmButton,onClick:this.props.onConfirm},"Upload"),c.default.createElement("div",{className:s.default.cancel,onClick:this.props.onCancel},"Cancel")))}}]),t}(c.default.Component);t.default=p},195:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=a(o),u=n(54),l=a(u),i=function(){return r.default.createElement("div",{className:l.default.loading},"Loading...")};t.default=i},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeDay=t.getThemeIDFrom=t.getThemeID=t.getDateDiffInDay=t.getDateFromString2=t.getDateFromString=t.getStringTime=t.getStringDate=t.getStringDay=void 0;var a=n(197),o=(t.getStringDay=function(e){return("0"+(e||new Date).getDate()).slice(-2)},t.getStringDate=function(e){var t=e||new Date;return t.getFullYear()+""+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2)}),r=(t.getStringTime=function(e){var t=e||new Date;return("0"+t.getHours()).slice(-2)+""+("0"+t.getMinutes()).slice(-2)+("0"+t.getSeconds()).slice(-2)},t.getDateFromString=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(4,2)),a=parseInt(e.substr(6,2));return new Date(t,n,a)}),u=t.getDateFromString2=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(4,2)),a=parseInt(e.substr(6,2));return new Date(t,n-1,a)},l=t.getDateDiffInDay=function(e,t){var n=r(e);return(r(t)-n)/864e5+1};t.getThemeID=function(){return o(new Date)},t.getThemeIDFrom=function(e,t){var n=u(e);return n.setDate(n.getDate()-t),o(n)},t.getThemeDay=function(e){return l(a.START_DATE,e)}},197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_THEME="RANDOM",t.DEFAULT_THEME_ID="20170000",t.START_DATE="20170614"},198:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(5),c=a(i),f=n(18),s=a(f);n(51);var p=n(199),d=a(p),m=n(200),g=a(m),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:g.default.container},c.default.createElement("div",{className:g.default.loginContainer},c.default.createElement("div",null,c.default.createElement("img",{className:g.default.logo,src:d.default,alt:"Bahaso X Inktober"})),c.default.createElement("div",null,c.default.createElement("button",{className:g.default.loginButton,onClick:function(){var t=new s.default.auth.GoogleAuthProvider;s.default.auth().signInWithPopup(t).then(function(){e.props.onClose()}).catch(function(t){e.setState({error:t.message})})}},"Google Sign In")),c.default.createElement("div",{className:g.default.cancel,onClick:this.props.onClose},"Cancel")))}}]),t}(c.default.Component);t.default=h},199:function(e,t,n){e.exports=n.p+"d5cf601a2fc77400ebde41fe1af89e50.png"},200:function(e,t){e.exports={container:"_1h6M7","login-container":"v7u3X",loginContainer:"v7u3X",logo:"_3tt5B",cancel:"_9sZDd"}},201:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(5),f=a(c),s=n(18),p=a(s);n(52),n(53);var d=n(202),m=a(d),g=n(203),h=a(g),y=n(204),b=a(y),v=n(205),_=a(v),w=n(33),O=a(w),E=function(e){function t(e){r(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={images:[{id:"intro",type:"credit",link:"https://www.instagram.com/p/BnT1LhRgard/",url:"https://scontent-sit4-1.cdninstagram.com/vp/4c84bbb0f608fc3eead1606ad2703750/5C56766E/t51.2885-15/e35/40432064_560631531021277_1406291162821026460_n.jpg"},{id:"themes",type:"credit",link:"https://www.instagram.com/p/BnL2dxfg8Uq/",url:"https://scontent-sit4-1.cdninstagram.com/vp/59f6ee7e0f9cbb3fc8606ac72b4e91c5/5C4330DC/t51.2885-15/e35/39815925_407430529786848_2695135490553675776_n.jpg"}],isPopupOpen:!1,popupImage:"",popupTitle:""},n.openPopup=n.openPopup.bind(n),n.closePopup=n.closePopup.bind(n),n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;p.default.database().ref("/inktober2018").once("value").then(function(t){var n=[],a=t.val();for(var r in a)!function(e){var t=a[e];for(var o in t)!function(a){var o=t[a],r=o.name,u=o.url,l=o.thumb,i=o.popup,c=o.path;if(n.push({id:a,type:"photo",name:r,thumb:l,url:i||u}),p.default.auth().currentUser){var f=c.lastIndexOf(".")<0?c:c.substr(0,c.lastIndexOf(".")),s=f+".jpg";l||p.default.storage().ref("inktober2018thumb/"+s).getDownloadURL().then(function(t){p.default.database().ref("/inktober2018/"+e+"/"+a+"/thumb").set(t.toString())}).catch(function(){console.log("no thumbnail for ",s)}),i||p.default.storage().ref("inktober2018popup/"+s).getDownloadURL().then(function(t){p.default.database().ref("/inktober2018/"+e+"/"+a+"/popup").set(t.toString())}).catch(function(){console.log("no compressed image for ",s)})}}(o);n.push({id:e,type:"title",text:e})}(r);e.setState({images:[].concat(o(n.reverse()),o(e.state.images))})}).catch(function(e){console.log(e.message)})}},{key:"openPopup",value:function(e,t){this.setState({isPopupOpen:!0,popupTitle:e,popupImage:t})}},{key:"closePopup",value:function(){this.setState({isPopupOpen:!1,popupImage:"",popupTitle:""})}},{key:"renderImages",value:function(){var e=this;return this.state.images.map(function(t){switch(t.type){case"photo":return f.default.createElement(m.default,{key:t.id,name:t.name,thumb:t.thumb||t.url,url:t.url,onClick:e.openPopup});case"title":return f.default.createElement(h.default,{key:t.id,text:t.text});default:return f.default.createElement(b.default,{key:t.id,url:t.url,link:t.link})}})}},{key:"render",value:function(){return f.default.createElement("div",{className:O.default.galleryContainer},this.state.isPopupOpen&&f.default.createElement(_.default,{title:this.state.popupTitle,image:this.state.popupImage,close:this.closePopup}),f.default.createElement("div",{className:O.default.gallery},f.default.createElement("div",{className:O.default.galleryItems},this.renderImages())))}}]),t}(f.default.Component);t.default=E},202:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=a(o),u=n(33),l=a(u);t.default=function(e){var t=e.name,n=e.thumb,a=e.url,o=e.onClick;return r.default.createElement("div",{className:l.default.galleryItem},r.default.createElement("div",{className:l.default.galleryImage,style:{backgroundImage:"url("+n+")"},onClick:function(){o(t,a)}}))}},203:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=a(o),u=n(33),l=a(u);t.default=function(e){var t=e.text;return r.default.createElement("div",{className:l.default.galleryItem},r.default.createElement("div",{className:l.default.galleryTitle},r.default.createElement("span",{className:l.default.text},t),r.default.createElement("span",null,"OCTOBER")))}},204:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=a(o),u=n(33),l=a(u);t.default=function(e){var t=e.url,n=e.link;return r.default.createElement("div",{className:l.default.galleryItem},r.default.createElement("a",{target:"_blank",href:n,className:l.default.galleryImage,style:{backgroundImage:"url("+t+")"}}))}},205:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(5),c=a(i),f=n(206),s=a(f),p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:""+s.default.popup,onClick:function(){e.props.close()}},c.default.createElement("div",{className:s.default.popupDialog,onClick:function(e){e.stopPropagation()}},c.default.createElement("div",{className:s.default.popupHeader},c.default.createElement("span",{className:s.default.popupTitle},this.props.title," "),c.default.createElement("span",{className:s.default.popupClose,onClick:function(){e.props.close()}},"X")),c.default.createElement("div",{className:s.default.popupBody},""===this.props.image?c.default.createElement("div",{className:s.default.loading},"Loading..."):c.default.createElement("img",{src:this.props.image,alt:"Image",className:s.default.popupImage}))))}}]),t}(c.default.Component);t.default=p},206:function(e,t){e.exports={popup:"_3cv7R","popup-dialog":"_28_fg",popupDialog:"_28_fg","popup-header":"_1AiY-",popupHeader:"_1AiY-","popup-title":"_6RU06",popupTitle:"_6RU06","popup-close":"_bzqj",popupClose:"_bzqj","popup-body":"_2v_NO",popupBody:"_2v_NO","popup-image":"_2xc6O",popupImage:"_2xc6O",loading:"lGdpz"}},33:function(e,t){e.exports={"gallery-container":"_3nhKL",galleryContainer:"_3nhKL",gallery:"_1NpJZ","gallery-items":"HzkG5",galleryItems:"HzkG5","gallery-item":"_2DTJ2",galleryItem:"_2DTJ2","gallery-image":"_3oIi7",galleryImage:"_3oIi7","gallery-title":"_1OSuq",galleryTitle:"_1OSuq",text:"_2GGJ9"}},54:function(e,t){e.exports={"upload-file-input":"_14hNH",uploadFileInput:"_14hNH","upload-file-button":"_3ja9n",uploadFileButton:"_3ja9n","preview-container":"lzXNa",previewContainer:"lzXNa","preview-image":"_2v9hy",previewImage:"_2v9hy","preview-button":"_3SrQj",previewButton:"_3SrQj","confirm-button":"ou88T",confirmButton:"ou88T",cancel:"_13x6S",loading:"_2rfQH"}},88:function(e,t){e.exports={"header-logo":"_1ywBZ",headerLogo:"_1ywBZ",container:"e085o"}},89:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(5),r=a(o),u=n(60),l=a(u),i=n(18),c=a(i),f=n(185),s=a(f),p={apiKey:"AIzaSyBd-we3DS2sZBhExI-VdJrNyKypR_qFAEI",authDomain:"bahaso-sketch.firebaseapp.com",databaseURL:"https://bahaso-sketch.firebaseio.com",projectId:"bahaso-sketch",storageBucket:"bahaso-sketch.appspot.com",messagingSenderId:"267090960672"};c.default.initializeApp(p),l.default.render(r.default.createElement(s.default,null),document.getElementById("container"))}},[89]);